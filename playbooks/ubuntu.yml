---
- name: Update and Install Packages
  hosts: localhost
  become: true
  tasks:
    - name: Update package repositories
      apt:
        update_cache: yes
    - name: Upgrade existing packages
      apt:
        upgrade: yes
    - name: Schedule ansible-pull via cron
      cron:
        name: "ansible-pull"
        minute: "*/15"
        job: "/usr/bin/ansible-pull -U https://github.com/jesseblacketter/vmboot.git >> /var/log/ansible-pull.log 2>&1"
        user: root
    - name: Create verification file
      file:
        path: /tmp/test.txt
        state: touch
    # - name: Create additional verification file
    #   file:
    #     path: /tmp/test2.txt
    #     state: touch